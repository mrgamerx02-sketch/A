<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>APKRIFT - Mods, Apps & Guides</title>
    
    <!-- External CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.5.0/css/all.css">
    <link href="https://fonts.googleapis.com/css?family=Poppins:300,400,600,700,900&display=swap" rel="stylesheet">

    <style>
        /* --- THEME VARIABLES --- */
        :root {
            --bg-dark: #0f0c29;
            --bg-gradient: linear-gradient(to right, #0f0c29, #302b63, #24243e);
            --card-bg: rgba(255, 255, 255, 0.05);
            --accent-color: #764ba2;
            --text-main: #ffffff;
            --text-muted: #b3b3b3;
            --neon-glow: 0 0 10px rgba(118, 75, 162, 0.5);
        }

        /* --- GLOBAL STYLES --- */
        body { 
            font-family: 'Poppins', sans-serif; 
            background: var(--bg-gradient); 
            color: var(--text-main);
            min-height: 100vh;
            overflow-x: hidden;
        }

        /* --- HEADER & TABS --- */
        .home-header { 
            padding: 3rem 1rem 1rem 1rem; 
            text-align: center;
            background: rgba(0,0,0,0.2);
            border-bottom: 1px solid rgba(255,255,255,0.1);
            margin-bottom: 2rem;
        }
        
        .logo-text {
            font-weight: 900;
            letter-spacing: 2px;
            background: -webkit-linear-gradient(#fff, #a29bfe);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            font-size: 2.5rem;
        }

        /* Search Input */
        .search-container {
            position: relative;
            max-width: 500px;
            margin: 0 auto 20px auto;
        }
        .form-control {
            background: rgba(0,0,0,0.3);
            border: 1px solid rgba(255,255,255,0.1);
            color: white;
            border-radius: 50px;
            padding: 12px 25px;
        }
        .form-control:focus {
            background: rgba(0,0,0,0.5);
            color: white;
            box-shadow: var(--neon-glow);
            border-color: var(--accent-color);
        }
        .form-control::placeholder { color: rgba(255,255,255,0.5); }

        /* TAB BUTTONS STYLE */
        .tab-menu {
            display: flex;
            justify-content: center;
            gap: 10px;
            margin-top: 25px;
            flex-wrap: wrap;
        }
        
        .tab-btn {
            background: transparent;
            border: 1px solid rgba(255,255,255,0.2);
            color: #ccc;
            padding: 10px 25px;
            border-radius: 30px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s ease;
            text-transform: uppercase;
            letter-spacing: 1px;
            min-width: 120px;
        }

        .tab-btn:hover {
            background: rgba(255,255,255,0.1);
            color: white;
        }

        .tab-btn.active-tab {
            background: var(--accent-color);
            border-color: var(--accent-color);
            color: white;
            box-shadow: 0 0 15px rgba(118, 75, 162, 0.5);
            transform: scale(1.05);
        }

        /* --- CARDS --- */
        .game-card { 
            background: var(--card-bg); 
            border-radius: 15px; 
            padding: 15px; 
            margin-bottom: 20px;
            border: 1px solid rgba(255,255,255,0.05); 
            cursor: pointer; 
            transition: all 0.3s ease; 
            display: flex;
            align-items: center;
            justify-content: space-between;
        }
        
        .game-card:hover { 
            transform: translateY(-5px); 
            background: rgba(255, 255, 255, 0.1);
            box-shadow: 0 5px 20px rgba(0,0,0,0.4);
            border-color: var(--accent-color);
        }

        .game-icon { 
            height: 80px; 
            width: 80px; 
            background-size: cover; 
            background-position: center; 
            border-radius: 12px; 
            box-shadow: 0 4px 8px rgba(0,0,0,0.3);
            flex-shrink: 0;
            background-color: #222;
        }

        .game-info {
            flex-grow: 1;
            padding-left: 20px;
            padding-right: 10px;
        }

        .game-title { font-weight: 700; font-size: 1.1rem; margin-bottom: 5px; color: #fff; }
        .game-desc { font-size: 0.85rem; color: var(--text-muted); display: -webkit-box; -webkit-line-clamp: 2; -webkit-box-orient: vertical; overflow: hidden; }
        .rating-stars { color: #f1c40f; font-size: 0.8rem; margin-bottom: 5px; }

        .btn-get { 
            background-color: var(--accent-color); 
            color: white; 
            border: none; 
            font-weight: 600; 
            border-radius: 50px;
            padding: 8px 20px;
            white-space: nowrap;
            transition: 0.3s;
        }
        .game-card:hover .btn-get {
            background-color: #fff;
            color: var(--accent-color);
        }
        
        /* --- GENERATOR PAGE --- */
        .app-box { 
            background: rgba(20, 20, 30, 0.8); 
            padding: 40px; 
            border-radius: 20px; 
            border: 1px solid rgba(255,255,255,0.1); 
            backdrop-filter: blur(20px); 
            max-width: 500px; 
            width: 100%; 
            margin: 0 auto; 
            box-shadow: 0 20px 50px rgba(0,0,0,0.5); 
            animation: fadeInUp 0.4s ease; 
        }
        .app-icon-gen { width: 120px; height: 120px; border-radius: 25px; box-shadow: 0 0 20px rgba(118, 75, 162, 0.4); margin-bottom: 20px; border: 2px solid rgba(255,255,255,0.1); object-fit: cover; }
        .status-badge { background: rgba(0, 200, 81, 0.2); color: #00c851; padding: 5px 15px; border-radius: 50px; font-size: 0.8rem; display: inline-block; margin-bottom: 20px; border: 1px solid #00c851; }
        
        .btn-action { 
            background: linear-gradient(45deg, #764ba2, #667eea); 
            color: white; 
            border: none; 
            padding: 15px 0; 
            font-size: 1.1rem; 
            font-weight: bold; 
            border-radius: 10px; 
            cursor: pointer; 
            transition: transform 0.2s; 
            width: 100%; 
            margin-top: 15px; 
            text-transform: uppercase; 
            letter-spacing: 1px;
            box-shadow: 0 4px 15px rgba(118, 75, 162, 0.4);
        }
        .btn-action:hover { transform: scale(1.02); box-shadow: 0 6px 20px rgba(118, 75, 162, 0.6); }

        /* Console & Platform */
        .console-box { background: #000; color: #0f0; font-family: 'Courier New', monospace; text-align: left; padding: 15px; border-radius: 8px; margin-top: 20px; height: 180px; overflow-y: auto; font-size: 0.85rem; border: 1px solid #333; display: none; }
        .progress-container { width: 100%; background: #222; height: 8px; border-radius: 4px; margin-top: 20px; display: none; overflow: hidden; }
        .progress-bar { height: 100%; background: #00c851; width: 0%; transition: width 0.3s; }
        
        .platform-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 15px; margin-top: 20px; display: none; }
        .platform-item { background: rgba(255,255,255,0.05); padding: 20px; border-radius: 10px; cursor: pointer; border: 2px solid transparent; transition: all 0.3s; text-align: center; }
        .platform-item:hover { background: rgba(255,255,255,0.1); }
        .platform-item.active { border-color: var(--accent-color); background: rgba(118, 75, 162, 0.1); }

        /* Final Modal */
        .final-modal { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.9); z-index: 9999; display: flex; justify-content: center; align-items: center; display: none; flex-direction: column; backdrop-filter: blur(5px); }
        .final-content { background: #1a1a1a; padding: 40px; border-radius: 20px; text-align: center; max-width: 400px; border: 1px solid #333; color: white; width: 90%; box-shadow: 0 0 30px rgba(0,0,0,0.8); }
        .blink { animation: blinker 1.5s linear infinite; color: #ff357a; font-weight: bold; margin: 10px 0; }

        /* Fake Notification Toast */
        #notification-toast {
            position: fixed;
            bottom: 20px;
            left: 20px;
            background: rgba(30, 30, 40, 0.95);
            border-left: 4px solid #00c851;
            padding: 15px;
            border-radius: 5px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.5);
            display: flex;
            align-items: center;
            z-index: 9000;
            transform: translateX(-150%);
            transition: transform 0.5s ease-in-out;
            max-width: 300px;
            backdrop-filter: blur(5px);
        }
        #notification-toast.show-toast { transform: translateX(0); }
        .toast-img { width: 40px; height: 40px; border-radius: 50%; margin-right: 15px; object-fit: cover; background: #333; }
        .toast-text { font-size: 0.8rem; line-height: 1.3; color: #fff; }
        .toast-text span { font-weight: bold; color: #00c851; }

        /* Utility */
        .hidden { display: none !important; }
        @keyframes fadeInUp { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }
        @keyframes blinker { 50% { opacity: 0; } }
    </style>
</head>

<body>

    <!-- =========================
         SECTION 1: HOME PAGE
    ========================== -->
    <div id="home-view">
        <header class="home-header">
            <div class="container">
                <h1 class="logo-text"><i class="fas fa-gamepad"></i> APKRIFT</h1>
                <p class="text-white-50">Mods, Apps & Guides</p>
                
                <div class="search-container">
                    <input type="search" class="form-control" placeholder="Type to search..." id="searchInput">
                </div>

                <!-- TABS -->
                <div class="tab-menu">
                    <button class="tab-btn active-tab" id="btn-games" onclick="switchTab('games')">
                        <i class="fas fa-gamepad"></i> GAMES
                    </button>
                    <button class="tab-btn" id="btn-apps" onclick="switchTab('apps')">
                        <i class="fas fa-mobile-alt"></i> APPS
                    </button>
                    <button class="tab-btn" id="btn-guides" onclick="switchTab('guides')">
                        <i class="fas fa-book"></i> GUIDES
                    </button>
                </div>
            </div>
        </header>

        <div class="container pb-5">
            <div id="games-container" class="row"></div>
            <div id="apps-container" class="row hidden"></div>
            <div id="guides-container" class="row hidden"></div>
        </div>
    </div>

    <!-- =========================
         SECTION 2: GENERATOR PAGE
    ========================== -->
    <div id="generator-view" class="hidden">
        <div class="container main-container d-flex flex-column justify-content-center align-items-center min-vh-100 py-5">
            
            <div class="w-100 text-start mb-3" style="max-width: 500px;">
                <button class="btn btn-outline-light btn-sm" onclick="closeGenerator()"><i class="fas fa-arrow-left"></i> Back</button>
            </div>

            <div class="app-box text-center">
                <img id="gen-img" src="" class="app-icon-gen" alt="Icon">
                <h2 id="gen-title" class="fw-bold mb-2 text-white">Title</h2>
                <div class="status-badge"><i class="fas fa-circle fa-xs"></i> Server Status: Online</div>
                <p class="text-white-50 small mt-2">Last updated: <span id="currentDate"></span></p>

                <hr style="border-color: rgba(255,255,255,0.1);">

                <!-- Step 1 -->
                <div id="step1">
                    <p class="mb-4 text-white" id="step1-text">Click start to download</p>
                    <button class="btn-action" id="step1-btn" onclick="goToStep2()">START PROCESS</button>
                </div>

                <!-- Step 2 (Platform Select - Hidden for Guides) -->
                <div id="step2" style="display:none;">
                    <p class="text-white">Select your platform:</p>
                    <div class="platform-grid" style="display: grid;">
                        <div class="platform-item" onclick="selectPlatform(this)">
                            <i class="fab fa-android text-success fa-3x mb-2"></i><br><span class="text-white">Android</span>
                        </div>
                        <div class="platform-item" onclick="selectPlatform(this)">
                            <i class="fab fa-apple text-white fa-3x mb-2"></i><br><span class="text-white">iOS</span>
                        </div>
                    </div>
                    <button class="btn-action" id="platformBtn" style="opacity: 0.5; pointer-events: none;" onclick="startConsole()">CONTINUE</button>
                </div>

                <!-- Step 3 (Console) -->
                <div id="step3" style="display:none;">
                    <p class="text-white-50 mb-2">Processing...</p>
                    <div class="progress-container" style="display:block;">
                        <div class="progress-bar" id="progressBar"></div>
                    </div>
                    <div class="console-box" id="consoleBox" style="display:block;"></div>
                </div>
            </div>
        </div>
    </div>

    <!-- =========================
         SECTION 3: FINAL LOCKER
    ========================== -->
    <div class="final-modal" id="finalModal">
        <div class="final-content">
            <i class="fas fa-shield-alt fa-4x mb-3 text-warning"></i>
            <h3>Verification Required</h3>
            <p class="text-white-50">Please verify that you are human to complete the download.</p>
            <div class="blink mb-3">Time Remaining: <span id="timer">03:00</span></div>
            <a href="#" id="verifyBtn" class="btn-action text-decoration-none d-block text-white">VERIFY NOW</a>
        </div>
    </div>

    <!-- FAKE NOTIFICATION ELEMENT -->
    <div id="notification-toast">
        <img src="https://ui-avatars.com/api/?background=random&color=fff" class="toast-img" id="toast-img">
        <div class="toast-text">
            <span id="toast-name">User</span> successfully downloaded <br>
            <strong class="text-warning" id="toast-game">App Name</strong>
        </div>
    </div>

    <!-- JAVASCRIPT LOGIC -->
    <script>
        // --- 1. FULL DATABASE ---
        const appDatabase = [ 
            // --- GAMES (HIGH DEMAND) ---
            { type: 'game', title: "Monopoly GO!", rating: "4.9", reviews: "29k+", image: "https://i.imgur.com/j8sqcfc.png", desc: "Unlimited Dice Rolls & Sticker Packs." },
            { type: 'game', title: " Schedule I APK", rating: "4.8", reviews: "22k+", image: "https://i.imgur.com/QVfsyeX.jpeg", desc: "Unlimited Money & Coins Mod." },
            { type: 'game', title: " Clash Royale", rating: "4.8", reviews: "21k+", image: "https://i.imgur.com/F4He5Le.jpeg", desc: "Private Server, Unlimited Resources." },
            { type: 'game', title: "Brawl Stars", rating: "4.8", reviews: "15k", image: "https://i.imgur.com/GJKhvLp.png", desc: "Null's Private Server (Unlimited Gems)." },
            { type: 'game', title: "Free Fire MAX", rating: "4.7", reviews: "1M+", image: "https://i.imgur.com/LHZAo1O.jpeg", desc: "Auto-Headshot Menu & Aimbot." },
            { type: 'game', title: "Roblox", rating: "4.7", reviews: "25k", image: "https://i.imgur.com/SXAo9LE.png", desc: "Robux Generator & Mod Menu." },
            { type: 'game', title: "Pokemon TCG Pocket", rating: "4.9", reviews: "50k", image: "https://i.imgur.com/vokUXt1.jpeg", desc: "God Pack Glitch & Unlimited Hourglasses." },
            { type: 'game', title: "Car Parking Multiplayer", rating: "4.8", reviews: "5,200", image: "https://i.imgur.com/OsBjBd6.jpeg", desc: "Unlimited Money & Coins Mod." },
            { type: 'game', title: "eFootball 2025", rating: "4.6", reviews: "81k+", image: "https://i.imgur.com/VV3jF8D.jpeg", desc: "Unlimited Coins & GP Patcher." },
            { type: 'game', title: "Grand Theft Auto San Andreas", rating: "4.9", reviews: "8,500", image: "https://i.imgur.com/2IOrqlZ.jpeg", desc: "Cleo Menu & Graphics Mod." },
            { type: 'game', title: "Subway Surfers", rating: "4.8", reviews: "30k", image: "https://i.imgur.com/ADOys1w.jpeg", desc: "Unlimited Keys & God Mode." },
            { type: 'game', title: "Minecraft PE", rating: "4.9", reviews: "50k", image: "https://i.imgur.com/Slup8bg.jpeg", desc: "Full Version Unlocked (1.21)." },
            { type: 'game', title: "Pokemon GO", rating: "4.6", reviews: "12k", image: "https://i.imgur.com/HqwXWB6.jpeg", desc: "iSpoofer Joystick & Teleport (No Root)." },
            { type: 'game', title: "Toca Boca World", rating: "5.0", reviews: "12k", image: "https://i.imgur.com/NAxmbUn.jpeg", desc: "All maps and furniture unlocked." },

            // --- APPS (UTILITIES) ---
            { type: 'app', title: "CapCut Pro", rating: "4.9", reviews: "55k+", image: "https://i.imgur.com/9671bj8.png", desc: "No Watermark & Premium Effects." },
            { type: 'app', title: "GFX Tool Pro", rating: "4.7", reviews: "81k", image: "https://i.imgur.com/dniR6EN.png", desc: "Unlock 90FPS & HDR (No Lag)." },
            { type: 'app', title: "Lulubox Pro", rating: "4.5", reviews: "1M+", image: "https://i.imgur.com/fi9wOhO.png", desc: "Unlock All Skins (Free Fire/Pubg)." },
            { type: 'app', title: "Discord Nitro", rating: "4.8", reviews: "50k", image: "https://i.imgur.com/lyurzfF.jpeg", desc: "3 Months Free Boost Generator." },
            { type: 'app', title: "Spotify Premium", rating: "4.9", reviews: "120k", image: "https://i.imgur.com/e714kzq.jpeg", desc: "Lifetime Premium (No Ads/Offline)." },
            { type: 'app', title: "ExpressVPN", rating: "4.9", reviews: "18k", image: "https://i.imgur.com/W1J2rwb.png", desc: "Premium Account Injection." },

            // --- GUIDES (HIGH CONVERSION) ---
            { type: 'guide', title: "Monopoly GO: Dice Strategy", rating: "5.0", reviews: "15k", image: "https://i.imgur.com/yVtqDwQ.jpeg", desc: "Secret Loop to Never Run Out of Dice (PDF)." },
            { type: 'guide', title: "Hollow Knight: Silksong ", rating: "5.0", reviews: "25k", image: "https://i.imgur.com/9Eae3SJ.jpeg", desc: "Pharloom's various caverns, tunnels, forests, and areas. (PDF)." },
            { type: 'guide', title: "COD Mobile: Aim Assist Config", rating: "4.9", reviews: "30k", image: "https://i.imgur.com/6NTergm.jpeg", desc: "Pro Sensitivity & No-Recoil Settings (PDF)." },
            { type: 'guide', title: "GTA 6: Leaked Map & Secrets", rating: "4.8", reviews: "24k+", image: "https://i.imgur.com/50TipMQ.png", desc: "Exclusive Leak of Vice City Map & Cars." },
            { type: 'guide', title: "Elden Ring: Shadow Guide", rating: "5.0", reviews: "15k", image: "https://i.imgur.com/FMu1nLH.jpeg", desc: "Complete DLC Walkthrough & Maps." },
            { type: 'guide', title: "Minecraft: Modding Bible", rating: "4.7", reviews: "5k", image: "https://i.imgur.com/dQABsHy.png", desc: "How to Install Shaders on Mobile (PDF)." },
            { type: 'guide', title: "Free Fire: Heroic Rank Guide", rating: "4.8", reviews: "40k", image: "https://i.imgur.com/k6ygVYm.jpeg", desc: "Top 5 Landing Spots & Strategies (PDF)." }
        ];

        let currentItemType = ''; 

        // --- 2. RENDER LOGIC ---
        function renderCards() {
            const gamesContainer = document.getElementById('games-container');
            const appsContainer = document.getElementById('apps-container');
            const guidesContainer = document.getElementById('guides-container');

            appDatabase.forEach(item => {
                const imgUrl = item.image && !item.image.includes('uploads') ? item.image : 'https://placehold.co/150/1a1a1a/FFF?text=' + item.title.charAt(0);

                const cardHTML = `
                <div class="col-12 col-md-6 col-lg-6 mb-2 search-item">
                    <div class="game-card" onclick="openGenerator('${item.title}', '${imgUrl}', '${item.type}')">
                        <div class="d-flex align-items-center w-100">
                            <div style="background-image: url('${imgUrl}')" class="game-icon"></div>
                            <div class="game-info">
                                <div class="game-title">${item.title}</div>
                                <div class="rating-stars"><i class="fas fa-star"></i> ${item.rating} (${item.reviews} Ratings)</div>
                                <div class="game-desc">${item.desc}</div>
                            </div>
                            <div><button class="btn-get">OPEN</button></div>
                        </div>
                    </div>
                </div>
                `;

                if (item.type === 'game') {
                    gamesContainer.innerHTML += cardHTML;
                } else if (item.type === 'app') {
                    appsContainer.innerHTML += cardHTML;
                } else if (item.type === 'guide') {
                    guidesContainer.innerHTML += cardHTML;
                }
            });
        }
        document.addEventListener('DOMContentLoaded', renderCards);

        // --- 3. TAB & SEARCH LOGIC ---
        function switchTab(tab) {
            document.querySelectorAll('.tab-btn').forEach(btn => btn.classList.remove('active-tab'));
            document.getElementById('btn-' + tab).classList.add('active-tab');

            document.getElementById('games-container').classList.add('hidden');
            document.getElementById('apps-container').classList.add('hidden');
            document.getElementById('guides-container').classList.add('hidden');

            document.getElementById(tab + '-container').classList.remove('hidden');
            document.getElementById('searchInput').value = '';
            filterItems('');
        }

        function filterItems(filter) {
            let items = document.querySelectorAll('.search-item');
            items.forEach(function(item) {
                let title = item.querySelector('.game-title').innerText.toUpperCase();
                item.style.display = title.indexOf(filter) > -1 ? "" : "none";
            });
        }
        document.getElementById('searchInput').addEventListener('keyup', function() { filterItems(this.value.toUpperCase()); });

        // --- 4. GENERATOR LOGIC ---
        function openGenerator(name, imgPath, type) {
            currentItemType = type;
            document.getElementById('gen-title').innerText = name;
            document.getElementById('gen-img').src = imgPath;
            document.getElementById('currentDate').innerText = new Date().toLocaleDateString();

            const step1Text = document.getElementById('step1-text');
            const step1Btn = document.getElementById('step1-btn');
            
            if(type === 'guide') {
                step1Text.innerText = "Guide File: PDF Format (24MB)";
                step1Btn.innerText = "DOWNLOAD GUIDE";
            } else if (type === 'app') {
                step1Text.innerText = "App Injection Ready";
                step1Btn.innerText = "DOWNLOAD APP";
            } else {
                step1Text.innerText = "Game Mod Ready";
                step1Btn.innerText = "DOWNLOAD GAME";
            }

            resetGenerator();
            document.getElementById('home-view').classList.add('hidden');
            document.getElementById('generator-view').classList.remove('hidden');
            window.scrollTo(0,0);
        }

        function closeGenerator() {
            document.getElementById('generator-view').classList.add('hidden');
            document.getElementById('home-view').classList.remove('hidden');
        }

        function resetGenerator() {
            document.getElementById('step1').style.display = 'block';
            document.getElementById('step2').style.display = 'none';
            document.getElementById('step3').style.display = 'none';
            document.getElementById('finalModal').style.display = 'none';
            document.getElementById('consoleBox').innerHTML = '';
            document.getElementById('progressBar').style.width = '0%';
        }

        function goToStep2() {
            document.getElementById('step1').style.display = 'none';
            if (currentItemType === 'guide') {
                startConsole(); 
            } else {
                document.getElementById('step2').style.display = 'block';
            }
        }

        function selectPlatform(element) {
            document.querySelectorAll('.platform-item').forEach(el => el.classList.remove('active'));
            element.classList.add('active');
            const btn = document.getElementById('platformBtn');
            btn.style.opacity = '1';
            btn.style.pointerEvents = 'all';
        }

        function startConsole() {
            document.getElementById('step2').style.display = 'none';
            document.getElementById('step3').style.display = 'block';
            const consoleBox = document.getElementById('consoleBox');
            const progressBar = document.getElementById('progressBar');
            const itemName = document.getElementById('gen-title').innerText;
            
            let messages = [];
            if (currentItemType === 'guide') {
                messages = [
                    "Connecting to cloud storage...",
                    `Locating '${itemName}.pdf' in database...`,
                    "File found (Size: 24.5MB)...",
                    "Checking SHA-256 Checksum...",
                    "PDF Integrity: Verified...",
                    "Generating secure download link...",
                    "Bypassing bandwidth limiter...",
                    "Finalizing link generation...",
                    "Error: Bot Verification Required!"
                ];
            } else {
                messages = [
                    "Connecting to injection server...",
                    "Verifying user session...",
                    `Fetching '${itemName}' configuration...`,
                    "Modifying package data...",
                    "Unlocking premium features...",
                    "Bypassing security signature...",
                    "Signing APK/IPA file...",
                    "Finalizing injection...",
                    "Error: Human Verification Required!"
                ];
            }

            let i = 0;
            let width = 0;
            function addLine() {
                if (i < messages.length) {
                    const div = document.createElement('div');
                    div.style.marginBottom = "5px";
                    div.innerText = "> " + messages[i];
                    if(i === messages.length -1) div.style.color = "#ff357a";
                    consoleBox.appendChild(div);
                    consoleBox.scrollTop = consoleBox.scrollHeight;
                    width += (100 / messages.length);
                    progressBar.style.width = width + "%";
                    i++;
                    setTimeout(addLine, Math.random() * 800 + 400);
                } else {
                    setTimeout(showLocker, 1000);
                }
            }
            addLine();
        }

        function showLocker() {
            const modal = document.getElementById('finalModal');
            const verifyBtn = document.getElementById('verifyBtn');
            
            if(currentItemType === 'guide') {
                verifyBtn.href = "https://redirectapps.org/cl/i/99n4wp";
            } else {
                verifyBtn.href = "https://redirectapps.org/cl/i/99n4wp";
            }

            modal.style.display = 'flex';
            let duration = 180; 
            const timerDisplay = document.getElementById('timer');
            setInterval(() => {
                let minutes = parseInt(duration / 60, 10);
                let seconds = parseInt(duration % 60, 10);
                minutes = minutes < 10 ? "0" + minutes : minutes;
                seconds = seconds < 10 ? "0" + seconds : seconds;
                timerDisplay.textContent = minutes + ":" + seconds;
                if (--duration < 0) duration = 0;
            }, 1000);
        }

        // --- 5. SOCIAL PROOF (FAKE NOTIFICATION) ---
        const userNames = ["Alex22", "JohnD", "Sarah_X", "Mike99", "GamerPro", "Lisa_M", "DavidK", "Panda88"];
        const gameNames = appDatabase.map(i => i.title); // Get all game/app titles

        function showNotification() {
            const toast = document.getElementById('notification-toast');
            const nameEl = document.getElementById('toast-name');
            const gameEl = document.getElementById('toast-game');
            const imgEl = document.getElementById('toast-img');

            // Randomize content
            const randomName = userNames[Math.floor(Math.random() * userNames.length)];
            const randomGame = gameNames[Math.floor(Math.random() * gameNames.length)];
            
            nameEl.innerText = randomName;
            gameEl.innerText = randomGame;
            imgEl.src = `https://ui-avatars.com/api/?name=${randomName}&background=random&color=fff`;

            // Show
            toast.classList.add('show-toast');

            // Hide after 4 seconds
            setTimeout(() => {
                toast.classList.remove('show-toast');
            }, 3000);

            // Repeat randomly between 8 and 15 seconds
            const nextTime = Math.random() * (30000 - 20000) + 20000;
            setTimeout(showNotification, nextTime);
        }

        // Start the first notification after 9 seconds
        setTimeout(showNotification, 9000);

    </script>
</body>
</html>


